<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title id="page-title">Product Detail</title>
      <link rel="icon" href="./images/site_icon.jpg">

  <link rel="stylesheet" href="./styles/products/products.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" 
  integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>
<body>
    

<header class="topbar">
  <div class="container d-flex justify-content-between align-items-center flex-wrap py-2">
    <div class="d-flex gap-4 align-items-center topbar-left flex-wrap">
<div class="email d-flex align-items-center">
  <i class="bi bi-envelope me-2"></i>
  <a href="mailto:support@example.com" class="mb-0 text-decoration-none text-reset">support@example.com</a>
</div>

<div class="number d-flex align-items-center">
  <i class="bi bi-telephone me-2"></i>
  <a href="tel:+2345678910" class="text-decoration-none text-reset">+(234) 5678 910</a>
</div>

    </div>

    <div class="d-flex gap-3 align-items-center topbar-right flex-wrap mt-2 mt-md-0">
      <div class="welcome-text">Welcome To Worldwide <strong>MATJAR</strong> Store.</div>

      <div class="dropdown" data-anim-trigger>
        <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">USD</button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">EUR</a></li>
          <li><a class="dropdown-item" href="#">GBP</a></li>
          <li><a class="dropdown-item" href="#">JPY</a></li>
        </ul>
      </div>

      <div class="dropdown" data-anim-trigger>
        <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">ENGLISH</button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">RUSSIAN</a></li>
          <li><a class="dropdown-item" href="#">GEORGIAN</a></li>
          <li><a class="dropdown-item" href="#">GERMAN</a></li>
        </ul>
      </div>

        <a href="FAQ.html" class="btn btn-outline-primary btn-sm rounded-pill FAQs">FAQs</a>
    </div>
  </div>
</header>

  
<nav class="navbar navbar-expand-lg luxury-navbar shadow-sm" id="navbar-2">
  <div class="container d-flex align-items-center justify-content-between">

    
    <a class="navbar-brand fw-bold fs-3" href="index.html">
      <span class="text-black">Mat</span><span class="text-gold">jar</span>
    </a>

  
    <form class="d-flex flex-grow-1 mx-4 rounded-pill luxury-search" role="search">
      <input class="form-control me-2" type="search" placeholder="Search for categories, products..." aria-label="Search" />
      <select class="form-select me-2 w-auto">
        <option selected>All Categories</option>
<option>Computers & Laptops</option> <option>Electronics</option> <option>Home Appliances</option> <option>Phones & Tablets</option> <option>Smartwatches & Wearables</option> <option>Television & Video</option> <option>Video & Audio</option> <option>Video Games</option>      </select>
      <button class="btn btn-gold px-4" type="submit">
        <i class="bi bi-search"></i>
      </button>
    </form>

      <button class="btn btn-gold px-4" type="submit">
        <i class="bi bi-search"></i>
      </button>
    </form>
    
<ul id="searchResults" class="search-results-list"></ul>


    
    <div class="d-flex align-items-center gap-4">
      <div class="text-center user-menu luxury-icon">
        <i class="bi bi-person fs-4"></i>
        <div class="small">My Account</div>
      </div>
      <div class="position-relative text-center wishlist-menu luxury-icon">
        <i class="bi bi-heart fs-4"></i>
        <span class="badge rounded-circle bg-danger">0</span>
        <div class="small">Wishlist</div>
      </div>
      <a href="#" id="cartButton" class="text-decoration-none text-dark cart-menu luxury-icon">
        <div class="position-relative text-center">
          <i class="bi bi-cart fs-4"></i>
          <span class="badge rounded-circle bg-danger" id="cartCount">0</span>
          <div class="small">Cart</div>
        </div>
      </a>
    </div>
  </div>
</nav>


  
  <div class="shopping-cart-sidebar" id="shoppingCartSidebar">
    <div class="cart-header d-flex justify-content-between align-items-center px-3 py-3 border-bottom">
      <h5 class="m-0">Shopping Cart</h5>
      <button id="closeCart" class="btn-close" aria-label="Close"></button>
    </div>
    <div class="cart-body text-center p-4" id="cartBody">
      <i class="bi bi-bag fs-1 text-secondary"></i>
      <p class="mt-2">Shopping cart is empty!</p>
      <button class="btn btn-primary mt-2 continue-shopping">Continue Shopping</button>
    </div>
  </div>
  <div class="cart-overlay" id="cartOverlay"></div>

  

 <div class="container product-detail-container">
    <div class="row">
      <div class="col-md-6 product-images">
        <img id="mainImage" src="" alt="Product Image">
      </div>
      <div class="col-md-6">
        <p class="text-muted" id="product-category"></p>
        <h2 id="product-title"></h2>
        <p class="rating-stars" id="product-rating"></p>
        <p id="product-reviews" class="text-muted small"></p>
        <p class="product-price" id="product-price"></p>
        <p class="old-price" id="product-oldPrice"></p>
        <p id="product-stock"></p>
        <p id="product-delivery"></p>
        <p><strong>Brand:</strong> <span id="product-brand"></span></p>
        <p><strong>SKU:</strong> <span id="product-sku"></span></p>

        <div class="quantity-selector">
  <label for="qty-input" class="form-label">Quantity:</label>
  <div class="qty-controls">
    <button id="qty-minus" aria-label="Decrease quantity">−</button>
    <input type="number" id="qty-input" value="1" min="1" />
    <button id="qty-plus" aria-label="Increase quantity">+</button>
  </div>
</div>

<div class="action-buttons">
  <button class="btn-luxury btn-add">Add to Cart</button>
  <button class="btn-luxury btn-buy">Buy Now</button>
</div>


        <h5 class="mt-4">Description</h5>
        <p id="product-description"></p>
        <h5 class="mt-4">Specifications</h5>
        <ul class="specs-list" id="product-specs"></ul>
      </div>
    </div>
  </div>





<div class="container py-5">
  <h4 class="mb-4">Recent Products</h4>
  <div class="owl-carousel owl-theme" id="recommendedCarousel">
  </div>
</div>
  


<footer class="footer-section">
  <div class="newsletter">
    <div class="container">
      <div class="row justify-content-between align-items-center">
        <div class="col-md-6 text-center text-md-start">
          <h5>Subscribe to Our Newsletter</h5>
          <p>Subscribe today and get special offers, coupons and news.</p>
        </div>
        <div class="col-md-6">
          <form class="newsletter-form d-flex">
            <input type="email" placeholder="Your email address" class="form-control" required>
            <button type="submit" class="btn btn-primary">Sign up</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="footer-content">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-6 footer-brand">
          <h4>Matjar</h4>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <ul class="contact-info">
            <li><i class="bi bi-geo-alt"></i> 677 Matjar Street, New York, US</li>
            <li><i class="bi bi-telephone"></i> +234 5678 910</li>
            <li><i class="bi bi-envelope"></i> matjar@example.com</li>
            <li><i class="bi bi-clock"></i> Mon - Fri / 8:00 AM - 8:00 PM</li>
          </ul>
        </div>
        <div class="col-md-3 col-6 footer-links">
          <h5>Information</h5>
          <ul>
            <li><a href="#">Products Returns</a></li>
            <li><a href="#">Terms Condition</a></li>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">Support Center</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Payment Methods</a></li>
          </ul>
        </div>
        <div class="col-md-3 col-6 footer-links">
          <h5>Our Collection</h5>
          <ul>
            <li><a href="#">Smartphone & Tablet</a></li>
            <li><a href="#">Video & Audio</a></li>
            <li><a href="#">Camera & Photo</a></li>
            <li><a href="#">Games & Console</a></li>
            <li><a href="#">Electronic & Consumer</a></li>
            <li><a href="#">Watches & Fitness</a></li>
          </ul>
        </div>
        <div class="col-md-3 col-6 footer-links">
          <h5>Quick Links</h5>
          <ul>
            <li><a href="#">Give €50. Get €50</a></li>
            <li><a href="#">Recalled Items</a></li>
            <li><a href="#">Order Tracking</a></li>
            <li><a href="#">Gift Receipt</a></li>
            <li><a href="#">How to Buy</a></li>
            <li><a href="#">Affiliate Program</a></li>
          </ul>
          <div class="app-download d-flex flex-wrap mt-3">
            <a href="#"><img src="./images/google-play.png" alt="Google Play" /></a>
            <a href="#"><img src="./images/app-store.png" alt="App Store" /></a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="footer-bottom">
    <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
      <div>&copy; Matjar © 2025 by vasili | All Rights Reserved.</div>
      <div class="payment-icons">
        <img src="./images/logo_visa.jpg" alt="Visa">
        <img src="./images/paypal.png" alt="PayPal">
        <img src="./images/mastercard.png" alt="MasterCard">
        <img src="./images/amex.webp" alt="Amex">
      </div>
      <div class="social-icons">
        <a href="#"><i class="bi bi-facebook"></i></a>
        <a href="#"><i class="bi bi-x"></i></a>
        <a href="#"><i class="bi bi-linkedin"></i></a>
        <a href="#"><i class="bi bi-instagram"></i></a>
        <a href="#"><i class="bi bi-youtube"></i></a>
        <a href="#"><i class="bi bi-rss"></i></a>
      </div>
    </div>
  </div>
</footer>


  <script>
        const query = new URLSearchParams(window.location.search);
    const title = decodeURIComponent(query.get('title'));

    fetch('./json/products.json')
      .then(res => res.json())
      .then(products => {
        const product = products.find(p => p.title === title);
        if (!product) return;
        document.getElementById('page-title').textContent = `${product.title} - Product Detail`;
        document.getElementById('mainImage').src = `images/${product.image}`;
        document.getElementById('product-category').textContent = product.category;
        document.getElementById('product-title').textContent = product.title;
        document.getElementById('product-rating').innerHTML = '★'.repeat(Math.round(product.rating)) + '☆'.repeat(5 - Math.round(product.rating));
        document.getElementById('product-reviews').textContent = `${product.reviews} reviews`;
        document.getElementById('product-price').textContent = product.price;
        if (product.oldPrice) document.getElementById('product-oldPrice').textContent = product.oldPrice;
        document.getElementById('product-stock').textContent = product.inStock ? 'In Stock' : 'Out of Stock';
        document.getElementById('product-stock').className = product.inStock ? 'in-stock' : 'out-of-stock';
        document.getElementById('product-brand').textContent = product.brand;
        document.getElementById('product-sku').textContent = product.sku;
        document.getElementById('product-delivery').textContent = product.delivery;
        document.getElementById('product-description').textContent = product.description;

        const specsList = document.getElementById('product-specs');
        specsList.innerHTML = '';
        product.specs.forEach(spec => {
          const li = document.createElement('li');
          li.textContent = spec;
          specsList.appendChild(li);
        });
      });


      const qtyInput = document.getElementById("qty-input");
const qtyMinus = document.getElementById("qty-minus");
const qtyPlus = document.getElementById("qty-plus");

qtyMinus.addEventListener("click", () => {
  let val = parseInt(qtyInput.value);
  if (val > 1) qtyInput.value = val - 1;
});

qtyPlus.addEventListener("click", () => {
  let val = parseInt(qtyInput.value);
  qtyInput.value = val + 1;
});

qtyInput.addEventListener("input", () => {
  if (qtyInput.value < 1 || isNaN(qtyInput.value)) {
    qtyInput.value = 1;
  }
});

fetch('./json/recommended.json')
  .then(res => res.json())
  .then(recommendedData => {
    const recommendedCarousel = document.getElementById("recommendedCarousel");
    recommendedData.forEach(item => {
      recommendedCarousel.innerHTML += `
        <div class="item">
          <div class="card-slider-item">
            <div class="img-container">
              <img src="${item.img}" alt="${item.title}">
            </div>
            <p class="category">${item.category}</p>
            <h6 class="title">${item.title}</h6>
            <div class="price">${item.price}${item.oldPrice ? `<span class="old-price">${item.oldPrice}</span>` : ''}</div>
            <div class="rating">${item.rating}</div>
            <button class="btn btn-primary rounded-circle cart-btn"><i class="bi bi-cart"></i></button>
          </div>
        </div>
      `;
    });      



//! search
const searchInput = document.querySelector('input[type="search"]');
const resultsList = document.getElementById('searchResults');

let allProducts = [];

// Fetch JSON and flatten product list
fetch('./json/full_products.json')
  .then(res => res.json())
  .then(data => {
    // Flatten: {name, price, image, category}
    allProducts = data.categories.flatMap(category =>
      category.products.map(p => ({
        ...p,
        category: category.name
      }))
    );
  })
  .catch(err => {
    console.error('Failed to load products JSON:', err);
  });

// Handle search input
searchInput.addEventListener('input', () => {
  const query = searchInput.value.trim().toLowerCase();

  if (query.length < 2) {
    resultsList.innerHTML = '';
    return;
  }

  // Filter products by name includes query
  const matched = allProducts.filter(p => p.name.toLowerCase().includes(query));

  if (matched.length === 0) {
    resultsList.innerHTML = '<li>No products found</li>';
    return;
  }

  // Render results
  resultsList.innerHTML = matched
    .map(p => `
      <li>
        <img src="${p.image}" alt="${p.name}" />
        <div class="product-info">
          <div class="product-name">${p.name}</div>
          <div class="product-price">$${p.price.toFixed(2)}</div>
        </div>
      </li>
    `).join('');
});

// Optional: fill input with clicked result and close dropdown
resultsList.addEventListener('click', e => {
  const li = e.target.closest('li');
  if (!li) return;

  const productName = li.querySelector('.product-name').textContent;
  searchInput.value = productName;
  resultsList.innerHTML = '';
});




    $('#recommendedCarousel').owlCarousel({
      loop: true,
      margin: 20,
      responsiveClass: true,
      autoplay: true,
      autoplayTimeout: 4000,
      autoplayHoverPause: true,
      responsive:{
        0:{ items:1 },
        576:{ items:2 },
        768:{ items:3 },
        992:{ items:4 },
        1200:{ items:5 }
      }
    });
  });

  </script>
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</body>
</html>
